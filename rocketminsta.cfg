//
// This file contains definitions of all RocketMinsta cvars with their default values
// Put this file into your Nexuiz data directory (typically ~/.nexuiz/data) and add the following line on top of your server config:
//
// exec RocketMinsta.cfg
//
// This file should NOT be modified for configuration!
//

set g_balance_minstanex_explosive 1 "Activates the RocketMinsta mode"
set g_explosive_norecoil 1 "If 1, recoill will be disabled for minstanex and laser"
set g_explosive_health_drain 0 "How much of health to drain each second"
set g_explosive_hook_forcerules 0 "Enforce RocketMinsta hookbreaking even if RocketMinsta is disabled"
set g_explosive_hook_breakable 1 "Enable hookbreaking"
set g_explosive_hook_breakable_self 0 "Own hook is breakable"
set g_explosive_hook_breakable_team 0 "Hooks of teammates are breakable"
set g_explosive_hook_damagefactor 0.2 "Damage multiplier for hook damage reflection"
set g_explosive_score_laserfrag 0 "Extra points to give for laserfrags"
set g_explosive_score_hookfrag 0 "Extra points to give for hookfrags"
set g_explosive_hidedamage 0 "Hides the damage indicator"
set g_explosive_ctf_capheals 1 "Restore health on flag capture in CTF"
set g_explosive_score_1hp 0 "Score to give for recovering from 1 hp"
set g_explosive_score_10hp 0 "Score to give for recovering from 10 hp"
set g_explosive_score_20hp 0 "Score to give for recovering from 20 hp"
set g_explosive_score_30hp 0 "Score to give for recovering from 30 hp"
set g_explosive_health_overflow 20 "How much health to give when a health bonus is picked up, but health is full"
set g_explosive_health_max 300 "Limit for health overflow"
set g_explosive_health_min 0 "Limit for health draining"
set g_explosive_armor 1 "Enables the explosive armor instead of minstagib powerups"
set g_explosive_armor_factor 0.7 "Protection factor of the armor"
set g_explosive_armor_max 200 "Armor limit"
set g_explosive_armor_overflow 30 "How much armor to give if the player already has >=100"
set g_explosive_armor_passthrough 1 "If enabled, breaking armor will result in damaging health if the damage is more than armor can take"
set g_explosive_default_velocity_influence 1 "When applying a push, resulting velocity will be multiplied by this factor. Results in higher (or lower, if below 1) push forces based on velocity"
set g_explosive_laser_new 1 "New-style laser for altfire"
set g_explosive_laser_spread 0.05 "Distance of projectiles for new-style laser"
set g_explosive_laser_count 3 "Count of fired projectiles for new-style laser"
set g_explosive_laser_rapid 1 "If 1, rapid-fire will be enabled while laser is reloading"
set g_explosive_laser_rapid_refire 0.35 "Refire rate for rapid fire laser"
set g_explosive_laser_damage 80 "Damage of the new laser. Balanced between missiles"
set g_explosive_laser_force 400 "Force of the new laser. Balanced between missiles"
set g_explosive_laser_speed 4000 "Flying speed of missiles of the new laser"
set g_explosive_laser_refire 0.9 "Refire rate of the new laser"
set g_explosive_laser_rapid_delay 0.6 "Delay before switching to rapid fire mode"
set g_explosive_laser_zspread 0 "Vertical spread of grouped shots"
set g_explosive_laser_teamcolor 1 "Use team-specific effects for laser shots"
set g_explosive_laser_spread_randomize 0 "If 1, horizontal spread will be randomized, much like zspread"
set g_explosive_laser_velocity_influence 1 "Velocity influence override for RM laser"
set g_explosive_vote_anonymous 0 "If 1, votes will be anonymous"
set g_explosive_showspecs 1 "If 0, players will be unable to see who's spectating them"
set g_explosive_splash_damage 70 "Maximum damage of the explosion (nearly direct hit)"
set g_explosive_splash_edgedamage 38 "Average explosion damage"
set g_explosive_splash_radius 140 "Radius of the explosion"
set g_explosive_splash_force 400 "Push force of the explosion"
set g_explosive_splash_velocity_influence 1 "Velocity influence override for splash damage"
set g_explosive_laser_radius 150 "Radius of laser explosions"
set g_explosive_laser_lifetime 30 "How much a laser projectile may stay in the air before exploding"
set g_explosive_rmcustom_votable 0 "If enabled, players will be able to use 'config' and 'rmcustom' votecommands to vote for a custom configuration"
set g_explosive_rmcustom_votable_restrict 0 "If 1, only rm-custom configurations specified by g_explosive_rmcustom_votable_restrictions will be votable. If 2, only configurations other than specified by g_explosive_rmcustom_votable_restrictions will be votable"
set g_explosive_rmcustom_votable_restrictions "" "A space-separated list of rmcustom configurations. Meaning depends on g_explosive_rmcustom_votable_restrict"
set g_explosive_keyhunt_capheals 1 "Restore health on key capture in Keyhunt"
set g_explosive_minsta_damage -1 "Damage of the minsta beam. Negative values are instant kill (or -100 armor)"
set g_explosive_minsta_force 800 "Push force of the minsta beam"
set g_explosive_anonspecs 1 "If enabled, clients are allowed to use the 'anonspec' option"
set g_explosive_showspecs_hidefromplayers 0 "If enabled, spectators will see who else is spectating their spectatee, but players won't get a spectator list. Requires g_explosive_showspecs 1"
set g_explosive_domination_spawnpoints "dom_cp_placeholder item_strength item_invincible item_flag_team minstagib" "A list of classnames of entities where DOM controlpoints will be spawned on"
set g_explosive_domination_removeitems "item_flag_team" "A list of classnames of entities to remove (AFTER controlpoints are spawned)"
set g_explosive_domination_capture_speed 0.8 "Speed for capturing a control point"
set g_explosive_domination_capture_clearspeed 1.6 "Speed at which capture progress gets lost when out of range"
set g_explosive_gametypevote 1 "If enabled, players will be prompted for a gametype after each map vote"
set g_explosive_gametypevote_options "ctf kh ft dom totaldom vip" "A list of gametypes that will be votable after the mapvote is complete"
set g_explosive_gametypevote_timeout 20 "How long does a gametype vote take"
set g_explosive_gametypevote_maxmaps 0 "If >0, defines maximum amount of maps that can be played with a single gametype for that gametype to be considered overplayed, and thus prevent it from showing up on the next gametype voting screen"
set g_explosive_gametypevote_shuffle 0 "Randomizes the list of gametypes"
set g_explosive_gametypevote_overplayed_allowcall 0 "If enabled, gametypes will be votable even if they are overplayed (will only remove them from the voting screen)"
set g_explosive_gametypevote_overplayed_strict 0 "More strict filtering of overplayed gametypes"
set g_explosive_gametypevote_overplayed_strict_minmaps 0 "Minimum maps that need to be played in order to unlock an overplayed gametype in strict mode"
set g_explosive_gametypevote_call 1 "Allow gametype voting" // added by ThexDarksider
set g_explosive_shownames 1 "If enabled, players will be able to use the shownames option"
set g_explosive_speedaward_ownaccel 1 "If enabled, only velocities reached by own acceleration using explosions and/or laser may be recorded for speed awards (in a separate record)"
set g_explosive_autoaway 10 "Maximum idle time (in minutes) for players before marking them AFK. Value of 0 disables autoaway"
set g_explosive_infomessages 5 "If >0, enables the built-in infomessages system. Value sets the delay in minutes. The delay can be adjusted at runtime, but once the system is disabled a map restart is required to enabled it back"
set g_explosive_ip2country_server "http://dbc.1gb.ua/rm-mirror/cgi/ip2c.pl?ip=" "If not empty, will use this service to look up countries for IPs. The IP address will be appended to the URL. The server must return an ISO 3166-1 alpha-2 country code for the requested IP or -- when unknown and the IP itself separated by space"
set g_explosive_ip2country_timeout 30 "Lifetime of IP2C requests in seconds"
set g_explosive_vote_mindelay 0 "Minimal delay between votes"
set g_explosive_randomspawns 1 "If 1, players will spawn at a random map location if no suitable spawn points are available. If 2, players will always spawn in a random location, even if the map contains usable spawnpoints"
set g_explosive_allow_fakeflag 0 "Allows players to use the fakeflag clientcommand (cmd fakeflag COUNTRYCODE) to temporarily change their IP2C country"
set g_explosive_secretvotes "supermentalrescue walpurgis" "Vote commands to consider 'secret': they will not appear in vhelp or the voing GUI and can be disabled altogether with g_explosive_secretvotes_enabled 0"
set g_explosive_secretvotes_enabled 1 "Set to 0 to disallow calls for secret votes"
set g_explosive_allowmadoka 1 "If disabled, will keep the 'madoka' client option unspectable (prevents people from annoying others with 'weird font')"
set g_explosive_oldnexmodel 0 "If enabled, will use the default minstanex model instead of the nex model"
set g_explosive_oldnexsound 0 "If enabled, will use the default minstanex fire sound (weapons/minstanexfire.wav) instead of the RM one (weapons/rm_minsta.wav)"
set g_explosive_extendfragmessages 1 "If enabled, frag messages and the damange indicator will also display which weapon were you fragged or hit with. Makes sense to disable this in minstagib"
set g_explosive_powerupsonbases 1 "If enabled, powerups will be spawned on CTF bases unless playing CTF or VIP"
set g_explosive_spawnclosetoteam 1 "If 1, will attempt to spawn players close to their teammates on maps that lack team spawns; If 2, will attempt to spawn players close to their teammates even on maps with team spawns (but only in team bases)"
set g_explosive_spawnclosetoteam_mindist_team 70 "Minimum allowed distance from a spawnpoint to a teammate"
set g_explosive_spawnclosetoteam_mindist_enemies 70 "Minimum allowed distance from a spawnpoint to an enemy"
set g_explosive_allow_hidecountry 0 "If enabled, allows clients to use the hidecountry option"
set g_explosive_weaponarena_limitammo 0 "If enabled, ammo in g_weaponarena will be limited. Players will drop their weapon on death"

set g_explosive_handgrenades 0 "Enables hand-grenades (bound to the hook key). Conflicts with g_grappling_hook and g_jetpack"
set g_explosive_handgrenades_speed 0.8 "Speed at which the handgrenade force accumulates while the user is holding the hook key"
set g_explosive_handgrenades_clearspeed 0.7 "Speed at which the handgrenade force fades out"
set g_explosive_handgrenades_mindelay 1.2 "Minimum refire time for handgrenades"
set g_explosive_handgrenades_ammo 3 "Amount of grenades the player starts with"

set g_domination_point_limit 300
set g_domination_point_leadlimit 0
set g_domination_time_limit 20
set g_totaldomination_point_limit 10
set g_totaldomination_point_leadlimit 0
set g_totaldomination_time_limit 20
set g_totaldomination_warmup 5

// Ported from Xonotic
set g_explosive_dodging 0 "Master switch for dodging"
set g_explosive_dodging_wall_dodging 0 "set to 1 to allow dodging off walls. 0 to disable"
set g_explosive_dodging_delay 0.5 "determines how long a player has to wait to be able to dodge again after dodging"
set g_explosive_dodging_up_speed 200 "the jump velocity of the dodge"
set g_explosive_dodging_horiz_speed 400 "the horizontal velocity of the dodge"
set g_explosive_dodging_ramp_time 0.1 "a ramp so that the horizontal part of the dodge is added smoothly (seconds)"
set g_explosive_dodging_height_threshold 10 "the maximum height above ground where to allow dodging"
set g_explosive_dodging_wall_distance_threshold 10 "the maximum distance from a wall that still allows dodging"
set g_explosive_dodging_sound 1 "if 1 dodging makes a sound. if 0 dodging is silent"

// Ported from Xonotic
//set g_freezetag 0 "Freeze Tag: Freeze the opposing team(s) to win, unfreeze teammates by standing next to them"
seta g_explosive_freezetag_warmup 5 "Time players get to run around before the round starts"
seta g_explosive_freezetag_revive_speed 0.8 "Speed for reviving a frozen teammate"
seta g_explosive_freezetag_revive_clearspeed 1.6 "Speed at which reviving progress gets lost when out of range"
seta g_explosive_freezetag_revive_extra_size 100 "Distance in qu that you can stand from a frozen teammate to keep reviving him"
seta g_explosive_freezetag_frozen_force 0.6 "How much to multiply the force on a frozen player with"
seta g_explosive_freezetag_point_limit 10	"Freeze Tag point limit overriding the mapinfo specified one (use 0 to play without limit, and -1 to use the mapinfo's limit)"
seta g_explosive_freezetag_point_leadlimit -1	"Freeze Tag point lead limit overriding the mapinfo specified one (use 0 to play without limit, and -1 to use the mapinfo's limit)"
seta g_explosive_freezetag_timelimit 20 "Freeze Tag time limit overriding the mapinfo specified one (use 0 to play without limit, and -1 to use the mapinfo's limit)"
// RM options
seta g_explosive_freezetag_teams_override 0 "Overrides the default freezetag team numbers"
seta g_explosive_freezetag_teams 2 "Amount of teams in freezetag"
seta g_explosive_freezetag_frozen_movespeed 10 "If >0, defines maximum speed at which a frozen player may move (they still can't jump)"
seta g_explosive_freezetag_frozen_movespeed_dependonmelt 0 "If enabled, g_explosive_freezetag_frozen_movespeed will be multiplied by melt/revive progress"
seta g_explosive_freezetag_melt 0 "Enables iceblock melting (automatic unfreeze)"
seta g_explosive_freezetag_melt_speed 0.02 "Speed at which the iceblock melts (same weird measurement unit as g_explosive_freezetag_revive_speed)"
seta g_explosive_freezetag_melt_delay 10 "How much seconds should pass before the iceblock starts melting"
seta g_explosive_freezetag_melt_teamdamage 0 "If 1, players will be able to reset melting of their frozen teammates"
seta g_explosive_freezetag_freezesound 1 "If 1, will play a freezing sound"
seta g_explosive_freezetag_iceblocks_teamcolored 1 "If enabled, iceblocks will be colored by team"
// RM options (scoring)
seta g_explosive_freezetag_score_freeze 50 "Score for freezing an enemy"
seta g_explosive_freezetag_score_revival 50 "Score for reviving a teammate"
seta g_explosive_freezetag_penalty_death 10 "Penalty for getting frozen"
seta g_explosive_freezetag_penalty_teamkill 60 "Penalty for killing a teammate. Should be at least as much as score for revival, otherwise people can teamkill to gain additional score"

seta g_explosive_vip_point_limit 10
seta g_explosive_vip_point_leadlimit 0
seta g_explosive_vip_time_limit 20
seta g_explosive_vip_warmup 5
seta g_explosive_vip_regenerate_health 1 "If enabled, VIPs' health will regenerate"
seta g_explosive_vip_regenerate_health_amount 10 "How much of health will regenerate for VIPs'"
seta g_explosive_vip_regenerate_health_delay 3 "Delay between VIP health regeneration"
seta g_explosive_vip_regenerate_armor 1 "If enabled, VIPs' armor will regenerate"
seta g_explosive_vip_regenerate_armor_amount 10 "How much of armor will regenerate for VIPs'"
seta g_explosive_vip_regenerate_armor_delay 3 "Delay between VIP armor regeneration"
seta g_explosive_vip_regenerate_extra 1 "If enabled, VIPs' extralives will regenerate"
seta g_explosive_vip_regenerate_extra_amount 1 "How much of extralives will regenerate for VIPs'"
seta g_explosive_vip_regenerate_extra_delay 6 "Delay between VIP extralive regeneration"
seta g_explosive_vip_health 100 "How much of health to give to VIP players"
seta g_explosive_vip_armor 100 "How much of armor to give to VIP players"
seta g_explosive_vip_extralives 5 "How much of extra lives to give to VIP players"
seta g_explosive_vip_health_dependonenemies "1" "If enabled, g_explosive_vip_health will be multiplied by amount of enemies a VIP is facing"
seta g_explosive_vip_armor_dependonenemies "1" "If enabled, g_explosive_vip_armor will be multiplied by amount of enemies a VIP is facing"
seta g_explosive_vip_extralives_dependonenemies "1" "If enabled, g_explosive_vip_extralives will be multiplied by amount of enemies a VIP is facing"
seta g_explosive_vip_soulgem 1 "If enabled, a Soul Gem powerup will spawn at each teams' base. The player to pickup a Soul Gem becomes VIP. The round starts only when there's a VIP on both teams"
seta g_explosive_vip_score_vipkill 100 "How much points are given for a vip kill"
seta g_explosive_vip_score_vipkill_special 200 "Score to give for an irregular vip kill (pushoff, hookfrag, etc.)"
seta g_explosive_vip_score_survival 100 "How much points are given to a vip for surviving the round"
seta g_explosive_vip_score_survival_soulgem 80 "How much points are given to a vip for surviving the round with soulgem system on"

//g_minstagib 1
//teamplay 1
//teamplay_default 1
//g_balance_selfdamagepercent 0
//g_grappling_hook 1

// This is required. Use g_explosive_rmcustom_votable to disable rmcustom voting.
alias rmcustom "set rmcustom_configname \"$1\"; exec rmcustom-pre.cfg; exec rm-custom/$1.cfg; exec rmcustom-post.cfg; defer 1 restart"
addvote config
addvote rmcustom

alias nickban "sv_cmd nickban $*"

alias walpurgis "sv_cmd walpurgis"
addvote walpurgis

alias kill "sv_cmd kill $*"
addvote kill

alias killfc "sv_cmd killfc"
addvote killfc

alias killkc "sv_cmd killfc"
addvote killkc

alias supermentalrescue "sv_cmd supermentalrescue"
addvote supermentalrescue

alias endround "sv_cmd endround"
addvote endround

alias topic "sv_cmd topic $*"
qc_cmd addtolist sv_vote_master_commands topic

set _sv_explosive_topic ""
set _sv_explosive_topicby ""

alias g_explosive_infomessages_clear "set _g_explosive_infomessages_count 0"
alias g_explosive_infomessages_add "qc_cmd addinfo $*"
alias clearinfo "g_explosive_infomessages_clear"
alias addinfo "g_explosive_infomessages_add $*"

alias delvote "qc_cmd delfromlist $*"

clearinfo
addinfo "To hide the list of your spectators, type ^2showspec 0^7 in the console"
addinfo "You can use the ^2showdamage^7 command to toggle the damage indicator"
addinfo "For unified laser particles, type ^2teamlasers 0^7 in the console"
addinfo "If the big flashy notifications get in your way, type ^2nobigtext 1^7 in the console. You can also toggle visibility of their comments using ^2hidebigcomments"
addinfo "For a simple voting screen, use ^2legacyvote 1"
addinfo "If you want to spectate anonymously, type ^2anonspec 1^7 in the console"
addinfo "To hide version information at bottom left of the screen, try ^2hidewatermark 1"
addinfo "You can have the crosshair color indicate your current health. It takes a while to get used to, but it's a very fast way to check your status without looking at the HUD. Type ^2crosshealth 1^7 to try it out"
addinfo "If you prefer simple effects for onscreen notifications, try ^2simpleeffects 1"
addinfo "Type ^2shownames 1^7 in the console to display player names above their heads. Names of your teammates will be visible even through walls. A very handy option for Freeze Tag, but tends to create clutter on large games."
addinfo "By default, changes to your score are displayed at bottom right of the screen. To disable this, use ^2visualscore 0"
addinfo "If you don't like the RocketMinsta HUD, you can use ^2oldhud 1^7 to get the Nexuiz one back. Also try ^2althud 0^7, it will switch to a layout similar to Nexuiz's while keeping the look"
addinfo "Type ^2afk^7 in the console to mark yourself as being away. You will be unmarked away automatically on activity. By default, you are also marked away after 10 minutes of inactivity"
addinfo "There are several HUD/statusbar skins available. Type ^2hudskin^7 in the console to list them, ^2hudskin SKINNAME^7 to apply a skin"
addinfo "To access the RocketMinsta configuration dialog, go to ^2Multiplayer ^7-> ^2Player Setup ^7-> ^2RocketMinsta Options^7. Or type ^2rmcfg^7 in the console"
addinfo "For the full list of RocketMinsta commands and options, type ^2rmhelp^7 in the console, or ^2rmcfg ^7for a graphical interface"
addinfo "If you're interested in RocketMinsta source code and/or installing the mod on your server, please visit https://github.com/nexAkari/RocketMinsta"

alias kh "gametype kh; defer 1 restart"
alias ctf "gametype ctf; defer 1 restart"
alias ft "gametype ft; defer 1 restart"
alias dom "gametype dom; defer 1 restart"
alias totaldom "gametype totaldom; defer 1 restart"
alias vip "gametype vip; defer 1 restart"
alias dm "gametype dm; defer 1 restart"
alias tdm "gametype tdm; defer 1 restart"

alias keyhunt kh
alias freezetag ft
alias domination dom
alias totaldomination totaldom
alias tdom totaldom
alias deathmatch dm
alias teamdeathmatch tdm
alias teamdm tdm

// Extensions for clientside packages
alias rm_clearpkgs "qc_cmd delfromlist_startswith sv_curl_serverpackages _pkginfo_"
alias rm_putpackage "qc_cmd addtolist sv_curl_serverpackages $1"
